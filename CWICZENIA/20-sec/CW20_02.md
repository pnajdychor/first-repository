# Practical Exercise 36 - Preventing Script Injection via Custom Actions

## Exercise Description (Opis ćwiczenia)

### English Version

In this practical exercise, our goal is to get familiar with preventing script injection attacks in GitHub Actions by using custom actions.

Here are the instructions for the exercise:

1. Create a JavaScript custom action following similar steps as explained in **Section 16: Developing Custom Actions from Scratch**.  
   The custom action should:  
   a. Be named **Safe Title Check**.  
   b. Have a description of **Safely checks the title of a PR**.  
   c. Receive a single input named `pr-title`, with a description of **The PR title**, and required.  
   d. Retrieve this input and:  
      i. Print **PR is a feature** if the `pr-title` starts with the substring `feat`.  
      ii. Print **PR is not a feature** otherwise.

2. Extend the workflow `20-workflow-security.yaml` to include a new job named `js-safer-pr`:  
   a. It should run on `ubuntu-latest`.  
   b. It should contain two steps:  
      i. The first step should checkout the code using the appropriate third-party action.  
      ii. The second step, named *Check PR title*, should use the newly created JavaScript custom action to check whether the PR is a feature or not.

3. Commit the changes and push the code. Create a PR by changing any file in the repository, committing the changes to a new branch, and proposing the changes via a PR.  
   Provide the following title to the PR: `"abc"; ls -R;`.  
   Take a few moments to inspect the result of the triggered workflow run. Were the malicious commands executed?

---

### Polish Translation

W tym ćwiczeniu praktycznym naszym celem jest zapoznanie się z zapobieganiem atakom typu *script injection* w GitHub Actions poprzez użycie własnych (niestandardowych) akcji.

Instrukcje do wykonania ćwiczenia:

1. Utwórz niestandardową akcję JavaScript, postępując podobnie jak w **Sekcji 16: Tworzenie niestandardowych akcji od podstaw**.  
   Akcja powinna:  
   a. Nosić nazwę **Safe Title Check**.  
   b. Mieć opis **Bezpiecznie sprawdza tytuł PR**.  
   c. Przyjmować jeden parametr wejściowy o nazwie `pr-title` z opisem **Tytuł PR** i oznaczony jako wymagany.  
   d. Odczytać ten parametr i:  
      i. Wypisać **PR is a feature**, jeśli `pr-title` zaczyna się od ciągu `feat`.  
      ii. Wypisać **PR is not a feature** w przeciwnym przypadku.

2. Rozszerz workflow `20-workflow-security.yaml`, dodając nowe zadanie o nazwie `js-safer-pr`:  
   a. Powinno działać na `ubuntu-latest`.  
   b. Powinno zawierać dwa kroki:  
      i. Pierwszy krok powinien pobierać kod przy użyciu odpowiedniej akcji zewnętrznej.  
      ii. Drugi krok, nazwany *Check PR title*, powinien używać nowo utworzonej niestandardowej akcji JavaScript w celu sprawdzenia, czy PR jest funkcjonalnością (`feature`), czy nie.

3. Zatwierdź zmiany i wypchnij kod. Utwórz PR, modyfikując dowolny plik w repozytorium, zatwierdź zmiany w nowej gałęzi i zaproponuj je jako PR.  
   Użyj tytułu PR: `"abc"; ls -R;`.  
   Następnie przeanalizuj wynik działania workflow. Czy złośliwe polecenia zostały wykonane?
