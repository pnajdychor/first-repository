# Practical Exercise 33 - Managing Concurrency at the Workflow Level

## Exercise Description (Opis ćwiczenia)

### English Version

In this practical exercise, our goal is to get familiar with managing concurrency in workflow runs.

Here are the instructions for the exercise:

1. Create a file named `19-1-concurrency.yaml` under the `.github/workflows` folder at the root of your repository.

2. Name the workflow **19 – 1 – Managing Concurrency**.

3. Add the following triggers to your workflow:  
   a. `workflow_dispatch`

4. Add a top-level `concurrency` key to the workflow file. Pass a single parameter to the `concurrency` key, named `group`, and with value `<retrieve the workflow name here>-<retrieve the git ref here>`.

5. Add a single job named `ping` to the workflow.  
   a. It should run on `ubuntu-latest`.  
   b. It should contain two steps:  
      i. The first step should checkout the code using the appropriate third-party action.  
      ii. The second step, named *Ping URL*, should use our `docker-ping-url` custom action and:  
         i. Provide a valid but unreachable URL as the `url` parameter.  
         ii. Set the `max_trials` parameter to 20.  
         iii. Set the `delay` parameter to 5.

6. Commit the changes and push the code. Trigger the workflow several times from the UI (with a few seconds between the triggers) and take a few moments to inspect the result of the workflow run. How did concurrency influence the execution of the workflow?

---

### Polish Translation

W tym ćwiczeniu praktycznym naszym celem jest zapoznanie się z zarządzaniem współbieżnością (concurrency) w przebiegach workflow.

Instrukcje do wykonania ćwiczenia:

1. Utwórz plik o nazwie `19-1-concurrency.yaml` w folderze `.github/workflows` w głównym katalogu repozytorium.

2. Nazwij workflow **19 – 1 – Managing Concurrency**.

3. Dodaj następujące wyzwalacze do workflow:  
   a. `workflow_dispatch`

4. Dodaj klucz najwyższego poziomu `concurrency` do pliku workflow. Przekaż jeden parametr do klucza `concurrency`, o nazwie `group`, z wartością `<nazwa workflow>-<gałąź git>`.

5. Dodaj pojedyncze zadanie o nazwie `ping` do workflow.  
   a. Powinno działać na `ubuntu-latest`.  
   b. Powinno zawierać dwa kroki:  
      i. Pierwszy krok powinien pobierać kod za pomocą odpowiedniej akcji zewnętrznej.  
      ii. Drugi krok, nazwany *Ping URL*, powinien używać niestandardowej akcji `docker-ping-url` i:  
         i. Użyć prawidłowego, ale nieosiągalnego adresu URL jako parametru `url`.  
         ii. Ustawić parametr `max_trials` na 20.  
         iii. Ustawić parametr `delay` na 5.

6. Zatwierdź zmiany i wypchnij kod. Uruchom workflow kilka razy z interfejsu GitHub (z kilkusekundowymi przerwami między uruchomieniami) i przeanalizuj wyniki działania. Jak współbieżność wpłynęła na wykonanie workflow?
