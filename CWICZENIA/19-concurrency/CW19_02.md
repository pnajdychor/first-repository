# Practical Exercise 34 - Managing Concurrency at the Job Level

## Exercise Description (Opis ćwiczenia)

### English Version

In this practical exercise, our goal is to get familiar with managing concurrency in workflow runs.

Here are the instructions for the exercise:

1. Create a file named `19-2-concurrency.yaml` under the `.github/workflows` folder at the root of your repository.

2. Name the workflow **19 – 2 – Managing Concurrency**.

3. Add the following triggers to your workflow:  
   a. `workflow_dispatch`

4. Add a first job named `ping-with-concurrency` to the workflow.  
   a. It should run on `ubuntu-latest`.  
   b. It should have a `concurrency` key added to it, with the `group` parameter containing the value `<retrieve the workflow name here>-<retrieve the git ref here>`.  
   c. It should contain two steps:  
      i. The first step should checkout the code using the appropriate third-party action.  
      ii. The second step, named *Ping URL*, should use our `docker-ping-url` custom action and:  
         i. Provide a valid but unreachable URL as the `url` parameter.  
         ii. Set the `max_trials` parameter to 20.  
         iii. Set the `delay` parameter to 5.

5. Add a second job named `ping-without-concurrency` to the workflow.  
   a. It should run on `ubuntu-latest`.  
   b. Do not include any concurrency configuration to the job.  
   c. It should contain two steps:  
      i. The first step should checkout the code using the appropriate third-party action.  
      ii. The second step, named *Ping URL*, should use our `docker-ping-url` custom action and:  
         i. Provide a valid but unreachable URL as the `url` parameter.  
         ii. Set the `max_trials` parameter to 20.  
         iii. Set the `delay` parameter to 5.

6. Commit the changes and push the code. Trigger the workflow several times from the UI (with a few seconds between the triggers) and take a few moments to inspect the result of the workflow run. How did concurrency influence the execution of the workflow and of the job with concurrency?

---

### Polish Translation

W tym ćwiczeniu praktycznym naszym celem jest zapoznanie się z zarządzaniem współbieżnością (concurrency) w przebiegach workflow.

Instrukcje do wykonania ćwiczenia:

1. Utwórz plik o nazwie `19-2-concurrency.yaml` w folderze `.github/workflows` w głównym katalogu repozytorium.

2. Nazwij workflow **19 – 2 – Managing Concurrency**.

3. Dodaj następujące wyzwalacze do workflow:  
   a. `workflow_dispatch`

4. Dodaj pierwsze zadanie o nazwie `ping-with-concurrency` do workflow.  
   a. Powinno działać na `ubuntu-latest`.  
   b. Powinno zawierać klucz `concurrency` z parametrem `group` o wartości `<nazwa workflow>-<gałąź git>`.  
   c. Powinno zawierać dwa kroki:  
      i. Pierwszy krok powinien pobierać kod za pomocą odpowiedniej akcji zewnętrznej.  
      ii. Drugi krok, nazwany *Ping URL*, powinien używać niestandardowej akcji `docker-ping-url` i:  
         i. Użyć prawidłowego, ale nieosiągalnego adresu URL jako parametru `url`.  
         ii. Ustawić parametr `max_trials` na 20.  
         iii. Ustawić parametr `delay` na 5.

5. Dodaj drugie zadanie o nazwie `ping-without-concurrency` do workflow.  
   a. Powinno działać na `ubuntu-latest`.  
   b. Nie należy dodawać żadnej konfiguracji współbieżności do tego zadania.  
   c. Powinno zawierać dwa kroki:  
      i. Pierwszy krok powinien pobierać kod przy użyciu odpowiedniej akcji zewnętrznej.  
      ii. Drugi krok, nazwany *Ping URL*, powinien używać niestandardowej akcji `docker-ping-url` i:  
         i. Użyć prawidłowego, ale nieosiągalnego adresu URL jako parametru `url`.  
         ii. Ustawić parametr `max_trials` na 20.  
         iii. Ustawić parametr `delay` na 5.

6. Zatwierdź zmiany i wypchnij kod. Uruchom workflow kilka razy z interfejsu GitHub (z kilkusekundowymi przerwami między uruchomieniami) i przeanalizuj wyniki działania. Jak współbieżność wpłynęła na wykonanie workflow i zadania z włączoną współbieżnością?
