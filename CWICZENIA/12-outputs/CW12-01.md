
# Practical Exercise 13 - Working with Outputs / Ćwiczenie praktyczne 13 – Praca z danymi wyjściowymi

---

## **English Version**

### Exercise Description

In this practical exercise, our goal is to explore how to set outputs from within jobs and workflow.

Here are the instructions for the exercise:

1. Create a file named `12-outputs.yaml` under the `.github/workflows` folder at the root of your repository.
2. Name the workflow `12 – Working with Outputs`.
3. Add the following triggers with event filters and activity types to your workflow:
   - a. `workflow_dispatch`: the `workflow_dispatch` trigger should receive the following inputs:
     - i. `build-status`, of type `choice`, with the following options: `success`, `failure`.  
         The default value should be `success`.
4. Add the following jobs:  
   - a. The first job:  
     - i. Should be named `build`  
     - ii. Should execute on `ubuntu-latest`  
     - iii. Should have two steps:  
       -  i. The first step, named **Print GITHUB_OUTPUT path**, should print the value of the environment variable `GITHUB_OUTPUT`.  
       -  ii. The second step, named **Build**, should have an id of `build`, and it should append the following line to the file whose path is stored in the `GITHUB_OUTPUT` variable:  
         `"status=<retrieve the value of the build-status input here>"`.  
         If you are not sure how to append values to this file, check the **Tips** section below.  
     - iv. Should provide an output named `build-status`, which contains the value of the `status` output from the step with an id of `build`.  
   - b. The second job:  
     - i. Should be named `deploy`  
     - ii. Should execute on `ubuntu-latest`  
     - iii. Should execute only after the `build` job successfully completes **and** if the `status` output of the `build` job equals `success`.  
     - iv. Should contain a single step named **Deploy** that prints the following message:  
         `"Deploying"`
5. Commit the changes and push the code. Trigger the workflow from UI, providing varying values for the inputs.  
   Take a few moments to inspect the output of the workflow runs. How did the different inputs influence the results of the workflow runs?

---

### Tips

**Appending values to a file in bash**

To append values to a file, we can use the following syntax:  
```bash
echo "<line content>" >> "<file path>"
```

---

## **Wersja polska**

### Opis ćwiczenia

W tym ćwiczeniu praktycznym naszym celem jest zbadanie, jak ustawiać dane wyjściowe (outputs) wewnątrz zadań (jobs) i przepływu pracy (workflow).

Instrukcje do ćwiczenia:

1. Utwórz plik o nazwie `12-outputs.yaml` w folderze `.github/workflows` w katalogu głównym repozytorium.
2. Nazwij przepływ pracy `12 – Working with Outputs`.
3. Dodaj następujące wyzwalacze z filtrami zdarzeń i typami aktywności do swojego workflow:
   - a. `workflow_dispatch`: wyzwalacz `workflow_dispatch` powinien przyjmować następujące dane wejściowe:  
     - i. `build-status`, typu `choice`, z następującymi opcjami: `success`, `failure`.  
         Wartość domyślna powinna wynosić `success`.
4. Dodaj następujące zadania (jobs):  
   - a. Pierwsze zadanie:  
     - i. Powinno mieć nazwę `build`  
     - ii. Powinno być wykonywane na `ubuntu-latest`  
     - iii. Powinno mieć dwa kroki:  
       -  i. Pierwszy krok, nazwany **Print GITHUB_OUTPUT path**, powinien wyświetlić wartość zmiennej środowiskowej `GITHUB_OUTPUT`.  
       -  ii. Drugi krok, nazwany **Build**, powinien mieć identyfikator `build` i dodać następującą linię do pliku, którego ścieżka jest zapisana w zmiennej `GITHUB_OUTPUT`:  
         `"status=<pobierz wartość parametru build-status>"`.  
         Jeśli nie wiesz, jak dodać wartości do tego pliku, sprawdź sekcję **Porady** poniżej.  
     - iv. Powinno udostępniać wynik (output) o nazwie `build-status`, który zawiera wartość wyjściową `status` z kroku o identyfikatorze `build`.  
   - b. Drugie zadanie:  
     - i. Powinno mieć nazwę `deploy`  
     - ii. Powinno być wykonywane na `ubuntu-latest`  
     - iii. Powinno być wykonywane dopiero po pomyślnym zakończeniu zadania `build` **i** tylko wtedy, gdy wynik `status` z zadania `build` równa się `success`.  
     - iv. Powinno zawierać jeden krok o nazwie **Deploy**, który wyświetla komunikat:  
         `"Wdrażanie"`
5. Zatwierdź zmiany i wypchnij kod. Uruchom workflow z interfejsu użytkownika (UI), podając różne wartości danych wejściowych.  
   Poświęć chwilę na przeanalizowanie wyników uruchomień workflow. W jaki sposób różne dane wejściowe wpłynęły na rezultaty uruchomień?

---

### Porady

**Dodawanie wartości do pliku w bashu**

Aby dodać wartości do pliku, możemy użyć następującej składni:  
```bash
echo "<treść linii>" >> "<ścieżka do pliku>"
```
