# Zadanie: Tworzenie pliku konfiguracyjnego GitHub Actions YAML

## Task: Creating a GitHub Actions YAML configuration file

------------------------------------------------------------------------

## üáµüá± Opis ƒáwiczenia (PL)

W tym ƒáwiczeniu nauczysz siƒô, jak krok po kroku stworzyƒá plik
konfiguracyjny GitHub Actions w formacie YAML, kt√≥ry demonstruje
**dzia≈Çanie zmiennych (vars)**, **wej≈õƒá (inputs)** oraz **przys≈Çaniania
zmiennych na r√≥≈ºnych poziomach (env override)**.

Celem jest zrozumienie, jak GitHub Actions dziedziczy i przys≈Çania
warto≈õci zmiennych na poziomie **workflow**, **job** i **step**.

Na ko≈Ñcu otrzymasz plik YAML, kt√≥ry po uruchomieniu poka≈ºe r√≥≈ºnice w
zachowaniu zmiennych w r√≥≈ºnych kontekstach.

------------------------------------------------------------------------

## üá¨üáß Exercise Description (EN)

In this exercise, you will learn how to build, step by step, a GitHub
Actions configuration file in YAML format that demonstrates **how
variables (vars)**, **inputs**, and **environment overrides (env)**
work.

The goal is to understand how GitHub Actions inherits and overrides
variable values at the **workflow**, **job**, and **step** levels.

At the end, you'll have a YAML file that illustrates the behavior of
variables in each scope.

------------------------------------------------------------------------

## üáµüá± Krok po kroku (PL)

1.  **Utw√≥rz plik YAML** o nazwie
    `.github/workflows/08-02-vars-inputs-env.yml`\

2.  Na poczƒÖtku pliku dodaj nazwƒô workflow:

    ``` yaml
    name: 08-02 Vars ¬∑ Inputs ¬∑ Env ‚Äî Override Demo
    ```

3.  Zdefiniuj trigger `workflow_dispatch`, kt√≥ry pozwoli rƒôcznie
    uruchomiƒá workflow z opcjonalnym wej≈õciem:

    ``` yaml
    on:
      workflow_dispatch:
        inputs:
          DEMO_VAR:
            description: "Opcjonalne wej≈õcie (inputs) do przys≈Çoniƒôcia warto≈õci z vars"
            required: false
            default: "from_input_default"
    ```

4.  Dodaj sekcjƒô **env** na poziomie **workflow** -- bƒôdzie korzystaƒá z
    warto≈õci z `vars`:

    ``` yaml
    env:
      DEMO_VAR: ${{ vars.DEMO_VAR }}
    ```

5.  Utw√≥rz **Job A**, kt√≥ry pokazuje, ≈ºe brak `env` na poziomie job
    oznacza u≈ºycie warto≈õci z workflow:

    ``` yaml
    jobs:
      A_workflow_env_from_vars:
        runs-on: ubuntu-latest
        steps:
          - name: 1) Baseline ‚Äî workflow env pochodzi z vars
            run: |
              echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
              echo "env  DEMO_VAR = $DEMO_VAR"
    ```

6.  Dodaj krok, w kt√≥rym zmienna `DEMO_VAR` zostaje przys≈Çoniƒôta tylko
    lokalnie dla danego kroku:

    ``` yaml
          - name: 2) STEP override ‚Äî przys≈Çoniƒôcie tylko w tym kroku
            env:
              DEMO_VAR: "from_step_env_A"
            run: |
              echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
              echo "env  DEMO_VAR = $DEMO_VAR"
    ```

7.  Dodaj trzeci krok, kt√≥ry pokazuje, ≈ºe po zako≈Ñczeniu kroku
    lokalnego, warto≈õƒá wraca do warto≈õci z poziomu workflow.\

8.  Stw√≥rz **Job B**, kt√≥ry ustawia `env` na poziomie job, bazujƒÖc na
    `inputs`:

    ``` yaml
      B_job_env_from_inputs:
        runs-on: ubuntu-latest
        env:
          DEMO_VAR: ${{ inputs.DEMO_VAR }}
        steps:
          - name: 1) Job-level override ‚Äî warto≈õƒá z inputs
            run: |
              echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
              echo "env  DEMO_VAR = $DEMO_VAR"
    ```

9.  Dodaj do Job B krok, kt√≥ry jeszcze raz przys≈Çania warto≈õƒá tylko dla
    danego kroku.\

10. W kolejnym kroku przywr√≥ƒá warto≈õƒá `DEMO_VAR` z poziomu joba.\

11. Stw√≥rz **Job C**, kt√≥ry pokazuje spos√≥b ≈ÇƒÖczenia `inputs` i `vars` z
    u≈ºyciem operatora `||`:\

``` yaml
  C_mix_vars_inputs_fallback:
    runs-on: ubuntu-latest
    env:
      DEMO_VAR: ${{ inputs.DEMO_VAR || vars.DEMO_VAR }}
    steps:
      - name: 1) Mix ‚Äî inputs > vars (je≈õli podane)
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"
```

12. Zapisz i uruchom workflow w zak≈Çadce **Actions** ‚Üí wybierz workflow
    i kliknij **Run workflow**.

------------------------------------------------------------------------

## üá¨üáß Step-by-Step Instructions (EN)

1.  **Create a YAML file** named
    `.github/workflows/08-02-vars-inputs-env.yml`\

2.  At the top of the file, define the workflow name:

    ``` yaml
    name: 08-02 Vars ¬∑ Inputs ¬∑ Env ‚Äî Override Demo
    ```

3.  Define the `workflow_dispatch` trigger with an optional input field:

    ``` yaml
    on:
      workflow_dispatch:
        inputs:
          DEMO_VAR:
            description: "Optional input to override the value from vars"
            required: false
            default: "from_input_default"
    ```

4.  Add a workflow-level `env` section based on `vars`:

    ``` yaml
    env:
      DEMO_VAR: ${{ vars.DEMO_VAR }}
    ```

5.  Create **Job A**, showing that without job-level `env`,
    workflow-level values are inherited.\

6.  Add a step with local (step-level) `env` override.\

7.  Add another step to show returning to the workflow-level value after
    the step.\

8.  Create **Job B**, which sets `env` from `inputs`, overriding the
    workflow's value.\

9.  Add a step-level override and a step that returns to the job-level
    env.\

10. Create **Job C**, combining `inputs` and `vars` using the `||`
    operator for fallback behavior.\

11. Save and run your workflow from **Actions** ‚Üí select workflow ‚Üí
    **Run workflow**.

------------------------------------------------------------------------

## Wynik ko≈Ñcowy (Final Result)

``` yaml
name: 08-02 Vars ¬∑ Inputs ¬∑ Env ‚Äî Override Demo

on:
  workflow_dispatch:
    inputs:
      DEMO_VAR:
        description: "Opcjonalne wej≈õcie (inputs) do przys≈Çoniƒôcia warto≈õci z vars"
        required: false
        default: "from_input_default"

env:
  DEMO_VAR: ${{ vars.DEMO_VAR }}

jobs:
  A_workflow_env_from_vars:
    runs-on: ubuntu-latest
    steps:
      - name: 1) Baseline ‚Äî workflow env pochodzi z vars
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"

      - name: 2) STEP override ‚Äî przys≈Çoniƒôcie tylko w tym kroku
        env:
          DEMO_VAR: "from_step_env_A"
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"

      - name: 3) Powr√≥t do warto≈õci z poziomu workflow (po kroku 2)
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"

  B_job_env_from_inputs:
    runs-on: ubuntu-latest
    env:
      DEMO_VAR: ${{ inputs.DEMO_VAR }}
    steps:
      - name: 1) Job-level override ‚Äî warto≈õƒá z inputs
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"

      - name: 2) STEP override ‚Äî jeszcze wy≈ºszy priorytet w danym kroku
        env:
          DEMO_VAR: "from_step_env_B"
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"

      - name: 3) Po kroku 2 wracamy do job-level env (inputs)
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"

  C_mix_vars_inputs_fallback:
    runs-on: ubuntu-latest
    env:
      DEMO_VAR: ${{ inputs.DEMO_VAR || vars.DEMO_VAR }}
    steps:
      - name: 1) Mix ‚Äî inputs > vars (je≈õli podane)
        run: |
          echo "vars.DEMO_VAR = ${{ vars.DEMO_VAR }}"
          echo "env  DEMO_VAR = $DEMO_VAR"
```
